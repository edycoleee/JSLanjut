<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fecth Gambar</title>
</head>

<body>
    <p></p>
    <a href="/">home</a>
    <p></p>
    <p>fecth gambar dari lokal</p>
    <img src="" alt="" id="gbr_lokal">
    <p>fecth gambar dari unsplash</p>
    <img src="" alt="" id="gbr_online">
    <p>fecth multiple gambar => array dari unsplash</p>
    <img src="" alt="" id="gbr_online">
    <div class="array_gbr"></div>
    <script>
        console.log('about to fetch a rainbow');

        catchRainbow()
            .then(response => {
                console.log('yay');
            })
            .catch(error => {
                console.log('error!');
                console.error(error);
            });

        async function catchRainbow() {
            const response = await fetch('logoKLH.png');
            const blob = await response.blob();
            document.getElementById('gbr_lokal').src = URL.createObjectURL(blob);
        }

        catchRainbow1()
            .then(response => {
                console.log('yay');
            })
            .catch(error => {
                console.log('error!');
                console.error(error);
            });

        async function catchRainbow1() {
            const response = await fetch('https://images.unsplash.com/photo-1417325384643-aac51acc9e5d?q=75&fm=jpg&w=400&fit=max');
            const blob = await response.blob();
            document.getElementById('gbr_online').src = URL.createObjectURL(blob);
        }

        const filenames = [
            'https://images.unsplash.com/photo-1417325384643-aac51acc9e5d?q=75&fm=jpg&w=400&fit=max',
            'https://images.unsplash.com/photo-1417325384643-aac51acc9e5d?q=75&fm=jpg&w=400&fit=max',
            'https://images.unsplash.com/photo-1417325384643-aac51acc9e5d?q=75&fm=jpg&w=400&fit=max'
        ];

        catchArrays(filenames)
            .then(response => {
                console.log('yay');
            })
            .catch(error => {
                console.log('error!');
                console.error(error);
            });

        async function catchArrays(filenames) {
            for (let filename of filenames) {
                const response = await fetch(filename);
                const blob = await response.blob();
                const img = document.createElement('img');
                img.src = URL.createObjectURL(blob);
                img.width = '200';
                document.body.append(img);
            }
        }


    </script>
</body>

</html>